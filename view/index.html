<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>拼图游戏</title>
    <script src="../js/jquery-3.2.1.js"></script>

    <script src="../js/game-mover.js"></script>
    <link rel="stylesheet" href="../css/style.css"/>


</head>
<body>
<header class="main">
  <p>这是一个拼图游戏</p>
</header>
<section class="main g-game">
    <ul class="img-game-box">
         <li class="img-piece">
             <div class="img-piece0 "></div>
         </li>
         <li class="img-piece">
             <div class="img-piece1"></div>
         </li>
         <li class="img-piece">
             <div class="img-piece2"></div>
         </li>
         <li class="img-piece">
             <div class="img-piece3"></div>
         </li>
         <li class="img-piece">
             <div class="img-piece4"></div>
         </li>
         <li class="img-piece">
             <div class="img-piece5"></div>
         </li>
         <li class="img-piece">
             <div class="img-piece6"></div>
         </li>
         <li class="img-piece">
             <div class="img-piece7"></div>
         </li>
         <li class="img-piece">
             <div class="img-piece8"></div>
         </li>
    </ul>
    <div class="img-model">
        <img src="../img/img1.jpeg" alt="对照图片"/>
    </div>
    <div class="game-info" style="position: absolute;right:0;top:10px;">
        <p>用时：  </p>
        <p id="time" style="font-size: 12px;width: 120px;height: 40px "></p>
        <p>步数：10</p>
        <p><button id="start" >开始</button></p>
        <p><button id="stop">停止计时</button></p>
        <p><button id="reset">重新开始</button></p>

    </div>


</section>

<footer>

</footer>
<script src="../js/act.js"></script>
<script type="text/javascript">
    $(function(){
console.log($('#start'))
    })

     var doc = document;
//     var st = doc.getElementById("start");
//     var stop = doc.getElementById("stop");
//     var reset = doc.getElementById("reset");
//
//     st.addEventListener('click',function(){
//          start("start");
//      });
//     stop.addEventListener('click',function(){
//         stopTimer();
//    });
//     stop.addEventListener('click',function(){
//         resetTimer();
//     });

     $(".img-game-box li").click(function(e){
         // 找出点击元素
         var theTarget = $(this);
         var Point = theTarget.index();
         console.log(Point);
         var thisPoint  =  Number(Point);  //当前的位置
         GetDirection(thisPoint);

//         var theClassName = "." + $(this).find('div').attr('class'); //点击的元素 盒子里面的图片元素
//         var up = thisPoint - 3;
//         var left = thisPoint - 1;
//         var right = thisPoint  + 1;
//         var down = thisPoint + 3;


     })
     // 检查向那边移动
     function GetDirection(thisPoint){
         var dir;
         var target,
             moverTarget;

         target =$('.img-game-box').find('li');
         targetClass = '.' + $('.img-game-box').find('li').eq(thisPoint).find('div').attr('class');// 点击的对象类名
         var index;
         3
         if(thisPoint - 3 >= 0 && thisPoint -  3 < 9 && target.eq(thisPoint - 3).find('div').length == 0){//向上移动
                index = thisPoint - 3;
                BoxMove(0,targetClass,index)
         }else if(thisPoint - 1 >= 0 && thisPoint - 1 < 9 &&  target.eq(thisPoint - 1).find('div').length == 0 && thisPoint%3 !=0 ){// 向左移动
             index = thisPoint - 1;
             console.log(targetClass)
             BoxMove(1,targetClass,index);
         }else if(thisPoint + 1 >= 0 && thisPoint + 1 < 9 && target.eq(thisPoint + 1).find('div').length == 0 && thisPoint%3 != 2){
             index =  thisPoint + 1;
             BoxMove(2,targetClass,index);
         }else if(thisPoint + 3 >= 0 && thisPoint + 3 < 9 && target.eq(thisPoint + 3).find('div').length == 0){
             index = thisPoint + 3;
             BoxMove(3,targetClass,index);
         }

     }
     function BoxMove(dir,target,index){
         switch(dir){
             case 0 :
                 $(target).animate({'top':"-180"},500,function(){
                     $(this).css('top','0');
                     var tempTarget = $(this).clone()
                     console.log($(this).closest('.img-game-box').find('li').eq(index).append(tempTarget[0]));
                     $(this).remove();
//                     $(this).closest('.img-game-box').find('li').eq(index).append(tempTarget[0]);
                 });
                 break;
             case 1 :
                 $(target).animate({'left':"-180"},500,function(){
                     $(this).css('left','0');
                     var tempTarget = $(this).clone()
                     console.log($(this).closest('.img-game-box').find('li').eq(index).append(tempTarget[0]));
                     $(this).remove();
                 });
                 break;
             case  2 :
                 $(target).animate({'left':"180"},500,function(){
                       $(this).css('left','0');
                     var tempTarget = $(this).clone()
                     console.log($(this).closest('.img-game-box').find('li').eq(index).append(tempTarget[0]));
                     $(this).remove();
                 });
                 break;
             case 3 :
                 $(target).animate({'top':"180"},500,function(){
                     $(this).css('top','0');
                     var tempTarget = $(this).clone()
                     console.log($(this).closest('.img-game-box').find('li').eq(index).append(tempTarget[0]));
                     $(this).remove();
                 });
                 break;
             default :
                 break;
         }
//        / /if(dir == 'up'){
//
//         }

     }

</script>
</body>
</html>